version: "1.0"
tool: dotnet
interactions:
    - id: 0
      args:
        - publish
        - /tmp/Test_CLI_VsServerLiveDeployRefresh1895443386/001/AspireAzdTests.ApiService/AspireAzdTests.ApiService.csproj
        - -r
        - linux-x64
        - -c
        - Release
        - /t:PublishContainer
        - -p:ContainerRepository=aspire-azd-tests/apiservice-azdtest-l31e605
        - -p:ContainerImageTag=azd-deploy-1757122523
        - -p:ContainerRegistry=apphostinfrastructureacr7xje3b4i6cyq2.azurecr.io
        - --getProperty:GeneratedContainerConfiguration
      exitCode: 0
      stdout: |
        {"config":{"ExposedPorts":{"8080/tcp":{}},"Labels":{"org.opencontainers.image.created":"2025-09-06T01:39:37.7658297Z","org.opencontainers.artifact.created":"2025-09-06T01:39:37.7658297Z","org.opencontainers.image.authors":"AspireAzdTests.ApiService","org.opencontainers.image.version":"1.0.0","org.opencontainers.image.base.name":"mcr.microsoft.com/dotnet/aspnet:9.0","net.dot.runtime.majorminor":"9.0","net.dot.sdk.version":"9.0.203","org.opencontainers.image.base.digest":"sha256:40c56c0be9fdf2daa06c2f584cd5ea60a00dbb96f7dcc52d296bd80b12ee30ee"},"Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","APP_UID=1654","ASPNETCORE_HTTP_PORTS=8080","DOTNET_RUNNING_IN_CONTAINER=true","DOTNET_VERSION=9.0.8","ASPNET_VERSION=9.0.8"],"WorkingDir":"/app/","Entrypoint":["dotnet","/app/AspireAzdTests.ApiService.dll"],"User":"1654"},"created":"2025-09-06T01:39:38.5215684Z","rootfs":{"type":"layers","diff_ids":["sha256:eb5f13bce9936c760b9fa73aeb1b608787daa36106cc888104132e353ed37252","sha256:c6ddc020a5f525e316b25cba0f371126b284f3a23684e918d49e0a4c607c1aac","sha256:6ab1664776e8780bcf954cd4d7dea523f79ac519504f097b5138f2db5080a61b","sha256:2996025657b4d2444dc96684fdd3e1027dcc88e099ee4e3caaefdcbdf182fda5","sha256:1c9465b0d5349c5f24c38f2d398d863381ef4b9d6697b3fce7df00596fc69c05","sha256:f8dc79fed135aa284b89dbcad305d50332cc769793695c437a52e3b187fb210b","sha256:c5274512d6ed9b47dd5a2340c5c015439da3b56773dac9eda0eab79fd4555380"]},"architecture":"amd64","os":"linux","history":[{"comment":"debuerreotype 0.15","created":"2025-08-11T00:00:00.0000000Z","created_by":"# debian.sh --arch \u0027amd64\u0027 out/ \u0027bookworm\u0027 \u0027@1754870400\u0027"},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:31.6802558Z","created_by":"ENV APP_UID=1654 ASPNETCORE_HTTP_PORTS=8080 DOTNET_RUNNING_IN_CONTAINER=true","empty_layer":true},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:31.6802558Z","created_by":"RUN /bin/sh -c apt-get update     \u0026\u0026 apt-get install -y --no-install-recommends         ca-certificates                 libc6         libgcc-s1         libicu72         libssl3         libstdc\u002B\u002B6         tzdata     \u0026\u0026 rm -rf /var/lib/apt/lists/* # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:33.7129319Z","created_by":"RUN /bin/sh -c groupadd         --gid=$APP_UID         app     \u0026\u0026 useradd --no-log-init         --uid=$APP_UID         --gid=$APP_UID         --create-home         app # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:41.7193266Z","created_by":"ENV DOTNET_VERSION=9.0.8","empty_layer":true},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:41.7193266Z","created_by":"COPY /dotnet /usr/share/dotnet # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:43.1323084Z","created_by":"RUN /bin/sh -c ln -s /usr/share/dotnet/dotnet /usr/bin/dotnet # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:50.9700507Z","created_by":"ENV ASPNET_VERSION=9.0.8","empty_layer":true},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:50.9700507Z","created_by":"COPY /dotnet /usr/share/dotnet # buildkit"},{"author":".NET SDK","created":"2025-09-06T01:39:38.5215526Z","created_by":".NET SDK Container Tooling, version 9.0.203-servicing.25165.9\u002Bdc7acfa19473e10d9132cd16ffb2f2d66764baf5"}]}
      stderr: ""
    - id: 1
      args:
        - publish
        - /tmp/Test_CLI_VsServerLiveDeployRefresh1895443386/001/AspireAzdTests.Web/AspireAzdTests.Web.csproj
        - -r
        - linux-x64
        - -c
        - Release
        - /t:PublishContainer
        - -p:ContainerRepository=aspire-azd-tests/webfrontend-azdtest-l31e605
        - -p:ContainerImageTag=azd-deploy-1757122523
        - -p:ContainerRegistry=apphostinfrastructureacr7xje3b4i6cyq2.azurecr.io
        - --getProperty:GeneratedContainerConfiguration
      exitCode: 0
      stdout: |
        {"config":{"ExposedPorts":{"8080/tcp":{}},"Labels":{"org.opencontainers.image.created":"2025-09-06T01:40:27.4016346Z","org.opencontainers.artifact.created":"2025-09-06T01:40:27.4016346Z","org.opencontainers.image.authors":"AspireAzdTests.Web","org.opencontainers.image.version":"1.0.0","org.opencontainers.image.base.name":"mcr.microsoft.com/dotnet/aspnet:9.0","net.dot.runtime.majorminor":"9.0","net.dot.sdk.version":"9.0.203","org.opencontainers.image.base.digest":"sha256:40c56c0be9fdf2daa06c2f584cd5ea60a00dbb96f7dcc52d296bd80b12ee30ee"},"Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","APP_UID=1654","ASPNETCORE_HTTP_PORTS=8080","DOTNET_RUNNING_IN_CONTAINER=true","DOTNET_VERSION=9.0.8","ASPNET_VERSION=9.0.8"],"WorkingDir":"/app/","Entrypoint":["dotnet","/app/AspireAzdTests.Web.dll"],"User":"1654"},"created":"2025-09-06T01:40:28.1972915Z","rootfs":{"type":"layers","diff_ids":["sha256:eb5f13bce9936c760b9fa73aeb1b608787daa36106cc888104132e353ed37252","sha256:c6ddc020a5f525e316b25cba0f371126b284f3a23684e918d49e0a4c607c1aac","sha256:6ab1664776e8780bcf954cd4d7dea523f79ac519504f097b5138f2db5080a61b","sha256:2996025657b4d2444dc96684fdd3e1027dcc88e099ee4e3caaefdcbdf182fda5","sha256:1c9465b0d5349c5f24c38f2d398d863381ef4b9d6697b3fce7df00596fc69c05","sha256:f8dc79fed135aa284b89dbcad305d50332cc769793695c437a52e3b187fb210b","sha256:bc3df5011f0489c69f19816740c1176ef1c44ff80daaea789f74f92f28948f5f"]},"architecture":"amd64","os":"linux","history":[{"comment":"debuerreotype 0.15","created":"2025-08-11T00:00:00.0000000Z","created_by":"# debian.sh --arch \u0027amd64\u0027 out/ \u0027bookworm\u0027 \u0027@1754870400\u0027"},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:31.6802558Z","created_by":"ENV APP_UID=1654 ASPNETCORE_HTTP_PORTS=8080 DOTNET_RUNNING_IN_CONTAINER=true","empty_layer":true},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:31.6802558Z","created_by":"RUN /bin/sh -c apt-get update     \u0026\u0026 apt-get install -y --no-install-recommends         ca-certificates                 libc6         libgcc-s1         libicu72         libssl3         libstdc\u002B\u002B6         tzdata     \u0026\u0026 rm -rf /var/lib/apt/lists/* # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:33.7129319Z","created_by":"RUN /bin/sh -c groupadd         --gid=$APP_UID         app     \u0026\u0026 useradd --no-log-init         --uid=$APP_UID         --gid=$APP_UID         --create-home         app # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:41.7193266Z","created_by":"ENV DOTNET_VERSION=9.0.8","empty_layer":true},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:41.7193266Z","created_by":"COPY /dotnet /usr/share/dotnet # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:43.1323084Z","created_by":"RUN /bin/sh -c ln -s /usr/share/dotnet/dotnet /usr/bin/dotnet # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:50.9700507Z","created_by":"ENV ASPNET_VERSION=9.0.8","empty_layer":true},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:50.9700507Z","created_by":"COPY /dotnet /usr/share/dotnet # buildkit"},{"author":".NET SDK","created":"2025-09-06T01:40:28.1972690Z","created_by":".NET SDK Container Tooling, version 9.0.203-servicing.25165.9\u002Bdc7acfa19473e10d9132cd16ffb2f2d66764baf5"}]}
      stderr: ""
    - id: 2
      args:
        - publish
        - /tmp/Test_CLI_VsServerLiveDeployRefresh1895443386/001/AspireAzdTests.Worker/AspireAzdTests.Worker.csproj
        - -r
        - linux-x64
        - -c
        - Release
        - /t:PublishContainer
        - -p:ContainerRepository=aspire-azd-tests/worker-azdtest-l31e605
        - -p:ContainerImageTag=azd-deploy-1757122523
        - -p:ContainerRegistry=apphostinfrastructureacr7xje3b4i6cyq2.azurecr.io
        - --getProperty:GeneratedContainerConfiguration
      exitCode: 0
      stdout: |
        {"config":{"ExposedPorts":{"8080/tcp":{}},"Labels":{"org.opencontainers.image.created":"2025-09-06T01:41:12.3883987Z","org.opencontainers.artifact.created":"2025-09-06T01:41:12.3883987Z","org.opencontainers.image.authors":"AspireAzdTests.Worker","org.opencontainers.image.version":"1.0.0","org.opencontainers.image.base.name":"mcr.microsoft.com/dotnet/aspnet:9.0","net.dot.runtime.majorminor":"9.0","net.dot.sdk.version":"9.0.203","org.opencontainers.image.base.digest":"sha256:40c56c0be9fdf2daa06c2f584cd5ea60a00dbb96f7dcc52d296bd80b12ee30ee"},"Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","APP_UID=1654","ASPNETCORE_HTTP_PORTS=8080","DOTNET_RUNNING_IN_CONTAINER=true","DOTNET_VERSION=9.0.8","ASPNET_VERSION=9.0.8"],"WorkingDir":"/app/","Entrypoint":["dotnet","/app/AspireAzdTests.Worker.dll"],"User":"1654"},"created":"2025-09-06T01:41:12.9321238Z","rootfs":{"type":"layers","diff_ids":["sha256:eb5f13bce9936c760b9fa73aeb1b608787daa36106cc888104132e353ed37252","sha256:c6ddc020a5f525e316b25cba0f371126b284f3a23684e918d49e0a4c607c1aac","sha256:6ab1664776e8780bcf954cd4d7dea523f79ac519504f097b5138f2db5080a61b","sha256:2996025657b4d2444dc96684fdd3e1027dcc88e099ee4e3caaefdcbdf182fda5","sha256:1c9465b0d5349c5f24c38f2d398d863381ef4b9d6697b3fce7df00596fc69c05","sha256:f8dc79fed135aa284b89dbcad305d50332cc769793695c437a52e3b187fb210b","sha256:a130e8fbf3c29b601db008edcdba266f70b7052a54568a175441c67ba7ad881b"]},"architecture":"amd64","os":"linux","history":[{"comment":"debuerreotype 0.15","created":"2025-08-11T00:00:00.0000000Z","created_by":"# debian.sh --arch \u0027amd64\u0027 out/ \u0027bookworm\u0027 \u0027@1754870400\u0027"},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:31.6802558Z","created_by":"ENV APP_UID=1654 ASPNETCORE_HTTP_PORTS=8080 DOTNET_RUNNING_IN_CONTAINER=true","empty_layer":true},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:31.6802558Z","created_by":"RUN /bin/sh -c apt-get update     \u0026\u0026 apt-get install -y --no-install-recommends         ca-certificates                 libc6         libgcc-s1         libicu72         libssl3         libstdc\u002B\u002B6         tzdata     \u0026\u0026 rm -rf /var/lib/apt/lists/* # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:33.7129319Z","created_by":"RUN /bin/sh -c groupadd         --gid=$APP_UID         app     \u0026\u0026 useradd --no-log-init         --uid=$APP_UID         --gid=$APP_UID         --create-home         app # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:41.7193266Z","created_by":"ENV DOTNET_VERSION=9.0.8","empty_layer":true},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:41.7193266Z","created_by":"COPY /dotnet /usr/share/dotnet # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:43.1323084Z","created_by":"RUN /bin/sh -c ln -s /usr/share/dotnet/dotnet /usr/bin/dotnet # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:50.9700507Z","created_by":"ENV ASPNET_VERSION=9.0.8","empty_layer":true},{"comment":"buildkit.dockerfile.v0","created":"2025-08-13T04:18:50.9700507Z","created_by":"COPY /dotnet /usr/share/dotnet # buildkit"},{"author":".NET SDK","created":"2025-09-06T01:41:12.9321060Z","created_by":".NET SDK Container Tooling, version 9.0.203-servicing.25165.9\u002Bdc7acfa19473e10d9132cd16ffb2f2d66764baf5"}]}
      stderr: ""
