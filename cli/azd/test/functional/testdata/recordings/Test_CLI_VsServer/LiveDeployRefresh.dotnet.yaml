version: "1.0"
tool: dotnet
interactions:
    - id: 0
      args:
        - publish
        - /tmp/Test_CLI_VsServerLiveDeployRefresh1599430098/001/AspireAzdTests.ApiService/AspireAzdTests.ApiService.csproj
        - -r
        - linux-x64
        - -c
        - Release
        - /t:PublishContainer
        - -p:ContainerRepository=aspire-azd-tests/apiservice-azdtest-lb2eddf
        - -p:ContainerImageTag=azd-deploy-1758242213
        - -p:ContainerRegistry=apphostinfrastructureacrr3tsj7ero5b3i.azurecr.io
        - --getProperty:GeneratedContainerConfiguration
      exitCode: 0
      stdout: |
        {"config":{"ExposedPorts":{"8080/tcp":{}},"Labels":{"org.opencontainers.image.created":"2025-09-19T00:42:33.1766118Z","org.opencontainers.artifact.created":"2025-09-19T00:42:33.1766118Z","org.opencontainers.image.authors":"AspireAzdTests.ApiService","org.opencontainers.image.version":"1.0.0","org.opencontainers.image.base.name":"mcr.microsoft.com/dotnet/aspnet:9.0","net.dot.runtime.majorminor":"9.0","net.dot.sdk.version":"9.0.203","org.opencontainers.image.base.digest":"sha256:af9848538f3253867fa24b7ef48df75cfea4a9bc71af36eb1d6a87db08a3a73a"},"Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","APP_UID=1654","ASPNETCORE_HTTP_PORTS=8080","DOTNET_RUNNING_IN_CONTAINER=true","DOTNET_VERSION=9.0.9","ASPNET_VERSION=9.0.9"],"WorkingDir":"/app/","Entrypoint":["dotnet","/app/AspireAzdTests.ApiService.dll"],"User":"1654"},"created":"2025-09-19T00:42:33.8313645Z","rootfs":{"type":"layers","diff_ids":["sha256:36f5f951f60a9fa1d51878e76fc16ba7b752f4d464a21b758a8ac88f0992c488","sha256:6dfd5c4c2433d1cbeaa88cc6370fcf18a05dbb61be7fb0ba659fdfd11150dfb9","sha256:c0691992e8c0d2b593e2f2c38607f425cd6ae275c9a5cf2b00259ec6982b7e24","sha256:3a3dbab1a8ca7da542b6bb49c3db259fcb02a7cd7c22896e8aad652d109956b3","sha256:4289c63563cf43d6d01b504366a65f41536c93b5d63ebd28473fb35fdbc84bad","sha256:9b4f978c8fc679ca7e5331329bff124837691f95d91a7f674788e73bd2668cad","sha256:43c6c5fb7d825b3d0b19ddbd10c0fc3f54f07155a446b439cfce23acd9160a97"]},"architecture":"amd64","os":"linux","history":[{"comment":"debuerreotype 0.16","created":"2025-09-08T00:00:00.0000000Z","created_by":"# debian.sh --arch \u0027amd64\u0027 out/ \u0027bookworm\u0027 \u0027@1757289600\u0027"},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:33.1978243Z","created_by":"ENV APP_UID=1654 ASPNETCORE_HTTP_PORTS=8080 DOTNET_RUNNING_IN_CONTAINER=true","empty_layer":true},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:33.1978243Z","created_by":"RUN /bin/sh -c apt-get update     \u0026\u0026 apt-get install -y --no-install-recommends         ca-certificates                 libc6         libgcc-s1         libicu72         libssl3         libstdc\u002B\u002B6         tzdata     \u0026\u0026 rm -rf /var/lib/apt/lists/* # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:34.6385300Z","created_by":"RUN /bin/sh -c groupadd         --gid=$APP_UID         app     \u0026\u0026 useradd --no-log-init         --uid=$APP_UID         --gid=$APP_UID         --create-home         app # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:41.8945419Z","created_by":"ENV DOTNET_VERSION=9.0.9","empty_layer":true},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:41.8945419Z","created_by":"COPY /dotnet /usr/share/dotnet # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:42.9320473Z","created_by":"RUN /bin/sh -c ln -s /usr/share/dotnet/dotnet /usr/bin/dotnet # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:49.2885715Z","created_by":"ENV ASPNET_VERSION=9.0.9","empty_layer":true},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:49.2885715Z","created_by":"COPY /dotnet /usr/share/dotnet # buildkit"},{"author":".NET SDK","created":"2025-09-19T00:42:33.8313436Z","created_by":".NET SDK Container Tooling, version 9.0.203-servicing.25165.9\u002Bdc7acfa19473e10d9132cd16ffb2f2d66764baf5"}]}
      stderr: ""
    - id: 1
      args:
        - publish
        - /tmp/Test_CLI_VsServerLiveDeployRefresh1599430098/001/AspireAzdTests.Web/AspireAzdTests.Web.csproj
        - -r
        - linux-x64
        - -c
        - Release
        - /t:PublishContainer
        - -p:ContainerRepository=aspire-azd-tests/webfrontend-azdtest-lb2eddf
        - -p:ContainerImageTag=azd-deploy-1758242213
        - -p:ContainerRegistry=apphostinfrastructureacrr3tsj7ero5b3i.azurecr.io
        - --getProperty:GeneratedContainerConfiguration
      exitCode: 0
      stdout: |
        {"config":{"ExposedPorts":{"8080/tcp":{}},"Labels":{"org.opencontainers.image.created":"2025-09-19T00:43:33.7327137Z","org.opencontainers.artifact.created":"2025-09-19T00:43:33.7327137Z","org.opencontainers.image.authors":"AspireAzdTests.Web","org.opencontainers.image.version":"1.0.0","org.opencontainers.image.base.name":"mcr.microsoft.com/dotnet/aspnet:9.0","net.dot.runtime.majorminor":"9.0","net.dot.sdk.version":"9.0.203","org.opencontainers.image.base.digest":"sha256:af9848538f3253867fa24b7ef48df75cfea4a9bc71af36eb1d6a87db08a3a73a"},"Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","APP_UID=1654","ASPNETCORE_HTTP_PORTS=8080","DOTNET_RUNNING_IN_CONTAINER=true","DOTNET_VERSION=9.0.9","ASPNET_VERSION=9.0.9"],"WorkingDir":"/app/","Entrypoint":["dotnet","/app/AspireAzdTests.Web.dll"],"User":"1654"},"created":"2025-09-19T00:43:34.5932641Z","rootfs":{"type":"layers","diff_ids":["sha256:36f5f951f60a9fa1d51878e76fc16ba7b752f4d464a21b758a8ac88f0992c488","sha256:6dfd5c4c2433d1cbeaa88cc6370fcf18a05dbb61be7fb0ba659fdfd11150dfb9","sha256:c0691992e8c0d2b593e2f2c38607f425cd6ae275c9a5cf2b00259ec6982b7e24","sha256:3a3dbab1a8ca7da542b6bb49c3db259fcb02a7cd7c22896e8aad652d109956b3","sha256:4289c63563cf43d6d01b504366a65f41536c93b5d63ebd28473fb35fdbc84bad","sha256:9b4f978c8fc679ca7e5331329bff124837691f95d91a7f674788e73bd2668cad","sha256:69034a5275e77884befb032954e061250cf21d070636a4ca6dd080a556f75e7a"]},"architecture":"amd64","os":"linux","history":[{"comment":"debuerreotype 0.16","created":"2025-09-08T00:00:00.0000000Z","created_by":"# debian.sh --arch \u0027amd64\u0027 out/ \u0027bookworm\u0027 \u0027@1757289600\u0027"},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:33.1978243Z","created_by":"ENV APP_UID=1654 ASPNETCORE_HTTP_PORTS=8080 DOTNET_RUNNING_IN_CONTAINER=true","empty_layer":true},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:33.1978243Z","created_by":"RUN /bin/sh -c apt-get update     \u0026\u0026 apt-get install -y --no-install-recommends         ca-certificates                 libc6         libgcc-s1         libicu72         libssl3         libstdc\u002B\u002B6         tzdata     \u0026\u0026 rm -rf /var/lib/apt/lists/* # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:34.6385300Z","created_by":"RUN /bin/sh -c groupadd         --gid=$APP_UID         app     \u0026\u0026 useradd --no-log-init         --uid=$APP_UID         --gid=$APP_UID         --create-home         app # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:41.8945419Z","created_by":"ENV DOTNET_VERSION=9.0.9","empty_layer":true},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:41.8945419Z","created_by":"COPY /dotnet /usr/share/dotnet # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:42.9320473Z","created_by":"RUN /bin/sh -c ln -s /usr/share/dotnet/dotnet /usr/bin/dotnet # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:49.2885715Z","created_by":"ENV ASPNET_VERSION=9.0.9","empty_layer":true},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:49.2885715Z","created_by":"COPY /dotnet /usr/share/dotnet # buildkit"},{"author":".NET SDK","created":"2025-09-19T00:43:34.5932463Z","created_by":".NET SDK Container Tooling, version 9.0.203-servicing.25165.9\u002Bdc7acfa19473e10d9132cd16ffb2f2d66764baf5"}]}
      stderr: ""
    - id: 2
      args:
        - publish
        - /tmp/Test_CLI_VsServerLiveDeployRefresh1599430098/001/AspireAzdTests.Worker/AspireAzdTests.Worker.csproj
        - -r
        - linux-x64
        - -c
        - Release
        - /t:PublishContainer
        - -p:ContainerRepository=aspire-azd-tests/worker-azdtest-lb2eddf
        - -p:ContainerImageTag=azd-deploy-1758242213
        - -p:ContainerRegistry=apphostinfrastructureacrr3tsj7ero5b3i.azurecr.io
        - --getProperty:GeneratedContainerConfiguration
      exitCode: 0
      stdout: |
        {"config":{"ExposedPorts":{"8080/tcp":{}},"Labels":{"org.opencontainers.image.created":"2025-09-19T00:44:17.2613920Z","org.opencontainers.artifact.created":"2025-09-19T00:44:17.2613920Z","org.opencontainers.image.authors":"AspireAzdTests.Worker","org.opencontainers.image.version":"1.0.0","org.opencontainers.image.base.name":"mcr.microsoft.com/dotnet/aspnet:9.0","net.dot.runtime.majorminor":"9.0","net.dot.sdk.version":"9.0.203","org.opencontainers.image.base.digest":"sha256:af9848538f3253867fa24b7ef48df75cfea4a9bc71af36eb1d6a87db08a3a73a"},"Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","APP_UID=1654","ASPNETCORE_HTTP_PORTS=8080","DOTNET_RUNNING_IN_CONTAINER=true","DOTNET_VERSION=9.0.9","ASPNET_VERSION=9.0.9"],"WorkingDir":"/app/","Entrypoint":["dotnet","/app/AspireAzdTests.Worker.dll"],"User":"1654"},"created":"2025-09-19T00:44:17.9529939Z","rootfs":{"type":"layers","diff_ids":["sha256:36f5f951f60a9fa1d51878e76fc16ba7b752f4d464a21b758a8ac88f0992c488","sha256:6dfd5c4c2433d1cbeaa88cc6370fcf18a05dbb61be7fb0ba659fdfd11150dfb9","sha256:c0691992e8c0d2b593e2f2c38607f425cd6ae275c9a5cf2b00259ec6982b7e24","sha256:3a3dbab1a8ca7da542b6bb49c3db259fcb02a7cd7c22896e8aad652d109956b3","sha256:4289c63563cf43d6d01b504366a65f41536c93b5d63ebd28473fb35fdbc84bad","sha256:9b4f978c8fc679ca7e5331329bff124837691f95d91a7f674788e73bd2668cad","sha256:594a552d7dcc9b490aa571ab1ed3062b569f586b28dfc138d1ae28fffa5d8e00"]},"architecture":"amd64","os":"linux","history":[{"comment":"debuerreotype 0.16","created":"2025-09-08T00:00:00.0000000Z","created_by":"# debian.sh --arch \u0027amd64\u0027 out/ \u0027bookworm\u0027 \u0027@1757289600\u0027"},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:33.1978243Z","created_by":"ENV APP_UID=1654 ASPNETCORE_HTTP_PORTS=8080 DOTNET_RUNNING_IN_CONTAINER=true","empty_layer":true},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:33.1978243Z","created_by":"RUN /bin/sh -c apt-get update     \u0026\u0026 apt-get install -y --no-install-recommends         ca-certificates                 libc6         libgcc-s1         libicu72         libssl3         libstdc\u002B\u002B6         tzdata     \u0026\u0026 rm -rf /var/lib/apt/lists/* # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:34.6385300Z","created_by":"RUN /bin/sh -c groupadd         --gid=$APP_UID         app     \u0026\u0026 useradd --no-log-init         --uid=$APP_UID         --gid=$APP_UID         --create-home         app # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:41.8945419Z","created_by":"ENV DOTNET_VERSION=9.0.9","empty_layer":true},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:41.8945419Z","created_by":"COPY /dotnet /usr/share/dotnet # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:42.9320473Z","created_by":"RUN /bin/sh -c ln -s /usr/share/dotnet/dotnet /usr/bin/dotnet # buildkit"},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:49.2885715Z","created_by":"ENV ASPNET_VERSION=9.0.9","empty_layer":true},{"comment":"buildkit.dockerfile.v0","created":"2025-09-08T23:49:49.2885715Z","created_by":"COPY /dotnet /usr/share/dotnet # buildkit"},{"author":".NET SDK","created":"2025-09-19T00:44:17.9529607Z","created_by":".NET SDK Container Tooling, version 9.0.203-servicing.25165.9\u002Bdc7acfa19473e10d9132cd16ffb2f2d66764baf5"}]}
      stderr: ""
