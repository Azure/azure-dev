parameters:
    DefaultVersion: daily
    ScriptUrl: https://aka.ms/install-azd.sh

steps:
  - pwsh: |
      if (!$env:AZDVERSION) {
        Write-Host "AzdVersion variable not set. Using '${{ parameters.DefaultVersion }}'"
        Write-Host "##vso[task.setvariable variable=AzdVersion]${{ parameters.DefaultVersion }}"
      } else {
        Write-Host "Using specified azd version: $(AzdVersion)"
      }
    displayName: Ensure AzdVersion is set

  - bash: curl -fsSL https://azuresdkreleasepreview.blob.core.windows.net/azd/standalone/pr/1026/install-azd.sh | bash -s -- --base-url https://azuresdkreleasepreview.blob.core.windows.net/azd/standalone/pr/1026 --version '' --verbose
    displayName: Install azd
