steps:
- template: /eng/pipelines/templates/steps/install-azd-live-sh.yml
  parameters:
    Version: $(AzdVersion)

- pwsh: |
    azd version
  displayName: Check azd version

- template: /eng/pipelines/templates/steps/azd-login.yml

- bash: |
    # install these packages for playwright missing libraries error and start run playwright
      sudo add-apt-repository ppa:gstreamer-developers/ppa
      sudo apt-get update
      sudo apt-get install gstreamer1.0*
      sudo apt-get install -y gstreamer1.0-libav libnss3-tools libatk-bridge2.0-0 libcups2-dev libxkbcommon-x11-0 libxcomposite-dev libxrandr2 libgbm-dev libgtk-3-0
  displayName: Install playwright libraries

- bash: |
    ./../tests/test-templates.sh
  displayName: Run test script
